<div class="change-popup">
<span>
<a href="<%- OSM.OWL_LINKS_BASE_URL %>user/<%- changesets[change.changeset_id].user_name %>"><%- changesets[change.changeset_id].user_name %></a>

<% if (change.el_action == 'CREATE') { %>
created
<% } else if (change.el_action == 'DELETE') { %>
deleted
<% } else if (change.el_action == 'MODIFY') { %>
modified
<% } %>

<a href="<%- hrefForChange(change) %>" class="<%- classForChange(change.el_type, change.tags) %>"><%- change.el_id %></a>

<abbr class="timeago" title="<%- changesets[change.changeset_id].created_at %>">
  <%- changesets[change.changeset_id].created_at.replace('T', ' ').replace('Z', '') %>
</abbr>
</span>

<table class="tag-table">
<% $.each(change.diffTags.added, function (k, v) { %>
  <tr class="tag-diff-added"><td><span class="tag-name"><%- k %></span> = <%- v %></td></tr>
<% }); %>

<% $.each(change.diffTags.removed, function (k, v) { %>
  <tr class="tag-diff-removed"><td><span class="tag-name"><%- k %></span> = <%- v %></td></tr>
<% }); %>

<% $.each(change.diffTags.modified, function (k, v) { %>
  <tr class="tag-diff-modified"><td><span class="tag-name"><%- k %></span> = <span style="font-weight: bold; color: green;"><%- v[0] %></span>
  (was: <span style="font-weight: bold; color: red;"><%- v[1] %></span>)</td></tr>
<% }); %>

<% $.each(change.diffTags.same, function (k, v) { %>
  <tr class="tag-diff-same"><td><span class="tag-name"><%- k %></span> = <%- v %></td></tr>
<% }); %>
  </td>
</tr>
</table>

<% if (change.geom_changed) { %>
<span class="show-prev-geom">show previous geometry</span>
<% } %>

</div>
