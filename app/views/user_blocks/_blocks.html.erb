<table id="block_list" cellpadding="3">
  <tr>
    <% if show_user_name %>
    <th><%= t'user_block.partial.display_name' %></th>
    <% end %>
    <% if show_creator_name %>
    <th><%= t'user_block.partial.creator_name' %></th>
    <% end %>
    <th><%= link_to t('user_block.partial.created_at'), @params.merge({ :sort => "created_at" }) %> 
    <% if params[:sort] == 'created_at' -%>
    <%= image_tag("down.png", :alt => 'sort') %>
    <% end -%>
    </th>
    <th><%= t'user_block.partial.reason' %></th>
    <th><%= link_to t('user_block.partial.status'), @params.merge({ :sort => "ends_at" }) %>
    <% if params[:sort] != 'created_at' -%>
    <%= image_tag("down.png", :alt => 'sort') %>
    <% end -%>
    </th>
    <th><%= t'user_block.partial.revoker_name' %></th>
    <th></th>
    <th></th>
    <% if show_revoke_link %>
    <th></th>
    <% end %>
  </tr>
  <%= render :partial => 'block', :locals => {:show_revoke_link => show_revoke_link, :show_user_name => show_user_name, :show_creator_name => show_creator_name }, :collection => @user_blocks %>
</table>

<ul class='secondary-actions'>
  <% if @user_blocks_pages.current_page.number > 1 -%>
    <li><%= link_to t('user_block.partial.previous'), @params.merge({ :page => @user_blocks_pages.current_page.number - 1 }) %></li>
  <% else -%>
    <li><%= t('user_block.partial.previous') %></li>
  <% end -%>

  <li><%= t('user_block.partial.showing_page', :page => @user_blocks_pages.current_page.number) %></li>

  <% if @user_blocks_pages.current_page.number < @user_blocks_pages.page_count -%>
    <li><%= link_to t('user_block.partial.next'), @params.merge({ :page => @user_blocks_pages.current_page.number + 1 }) %></li>
  <% else -%>
    <li><%= t('user_block.partial.next') %></li>
  <% end -%>
</ul>
